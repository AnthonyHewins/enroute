curl -X POST -H "Content-Type: application/json" -d '{"Secret_Name":"IngressPipeFromCertbot", "Service_sni":"ingresspipe.io"}' localhost:1323/secret | python -m json.tool
curl localhost:1323/secret | python -m json.tool
sudo curl -X POST -F 'Secret_key=@/etc/letsencrypt/live/ingresspipe.io/privkey.pem'  localhost:1323/secret/IngressPipeFromCertbot/key | python -m json.tool
sudo curl -X POST -F 'Secret_cert=@/etc/letsencrypt/live/ingresspipe.io/fullchain.pem'  localhost:1323/secret/IngressPipeFromCertbot/cert | python -m json.tool
curl localhost:1323/secret | python -m json.tool


ubuntu@ip-172-31-17-83:~/enroute/documentation$ curl localhost:1323/secret | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   215  100   215    0     0  26468      0 --:--:-- --:--:-- --:--:-- 26875
{
    "data": {
        "saaras_db_secret": [
            {
                "create_ts": "2019-09-11T16:51:48.531255+00:00",
                "secret_cert": "",
                "secret_key": "",
                "secret_name": "IngressPipeFromCertbot",
                "secret_sni": "",
                "update_ts": "2019-09-11T16:51:48.531255+00:00"
            }
        ]
    }
}
ubuntu@ip-172-31-17-83:~/enroute/documentation$ curl -X POST -F 'Secret_key=@/etc/letsencrypt/live/ingresspipe.io/privkey.pem'  localhost:1323/secret/IngressPipeFromCertbot/key | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
curl: (26) couldn't open file "/etc/letsencrypt/live/ingresspipe.io/privkey.pem"
No JSON object could be decoded
ubuntu@ip-172-31-17-83:~/enroute/documentation$ sudo curl -X POST -F 'Secret_key=@/etc/letsencrypt/live/ingresspipe.
io/privkey.pem'  localhost:1323/secret/IngressPipeFromCertbot/key | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1971  100    58  100  1913   1363  44970 --:--:-- --:--:-- --:--:-- 45547
{
    "data": {
        "update_saaras_db_secret": {
            "affected_rows": 1
        }
    }
}
ubuntu@ip-172-31-17-83:~/enroute/documentation$ sudo curl -X POST -F 'Secret_cert=@/etc/letsencrypt/live/ingresspipe
.io/fullchain.pem'  localhost:1323/secret/IngressPipeFromCertbot/cert | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  3824  100    58  100  3766   1405  91281 --:--:-- --:--:-- --:--:-- 91853
{
    "data": {
        "update_saaras_db_secret": {
            "affected_rows": 1
        }
    }
}
ubuntu@ip-172-31-17-83:~/enroute/documentation$ curl localhost:1323/secret | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  5558    0  5558    0     0   900k      0 --:--:-- --:--:-- --:--:-- 1085k
{
    "data": {
        "saaras_db_secret": [
            {
                "create_ts": "2019-09-11T16:51:48.531255+00:00",
                "secret_cert": "-----BEGIN CERTIFICATE-----\nMIIFUzCCBDugAwIBAgISA8YM3bR7DJTuO8r/OT+ZgwdOMA0GCSqGSIb3DQEBCwUA\nMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD\nExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTA5MTExNTQ2NTRaFw0x\nOTEyMTAxNTQ2NTRaMBkxFzAVBgNVBAMTDmluZ3Jlc3NwaXBlLmlvMIIBIjANBgkq\nhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1uIXIBB5BG8QrLl5Jk0WCbUTi+gUpLmQ\n7YaeDo7EZsyaa7csUhOOgdj7QXAGy1xsVT+FMMhxtg0LGZqyr7cSM7uULTH/6hpO\nzSihXXpCeor7cG2C/XoXxeByUEQdj2tLcS7OqTo20fCJFCN9LRXlAdjtxllw7vZ4\nStAtHsUw25sZMtfyDohJIi/tcZ9fajIEK5/glOBpXOsj26e9WNKmgNQTmST+iqlZ\n0MMbPDHg9tguTdUWNbDbDfyNJFoGFYKfzeW0Po4lx7QUU3YNPOTC7J/Q+eyAoFQa\nZYouFBdeKzzVBQY3+xTllAxQhvoxxG4VeG3ycLQUWSzOMy5ylewW9wIDAQABo4IC\nYjCCAl4wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEF\nBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBRBmIEYTyQR5KxtyeywhJZmQn5L\nfjAfBgNVHSMEGDAWgBSoSmpjBH3duubRObemRWXv86jsoTBvBggrBgEFBQcBAQRj\nMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwLmludC14My5sZXRzZW5jcnlwdC5v\ncmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9jZXJ0LmludC14My5sZXRzZW5jcnlwdC5v\ncmcvMBkGA1UdEQQSMBCCDmluZ3Jlc3NwaXBlLmlvMEwGA1UdIARFMEMwCAYGZ4EM\nAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0\nc2VuY3J5cHQub3JnMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHYA4mlLribo6UAJ\n6IYbtjuD1D7n/nSI+6SPKJMBnd3x2/4AAAFtITiCmgAABAMARzBFAiABfC+pE//8\nrKAWRTBc3Bng0/HazGNae8wfxbMV1HZF9wIhAMbw+PEmQjKMuv+JkBYZ2FVnxerP\nClfIGlakoXvdK8UQAHUAY/Lbzeg7zCzPC3KEJ1drM6SNYXePvXWmOLHHaFRL2I0A\nAAFtITiCMgAABAMARjBEAiAOnSqKVGokTG/F1bv1gAU/c5TuEXyhRK3a0qgZow04\nowIgY6qUdrABPcPly5E7sMJ2chwgJv1BzU1dAX1IVSmK6VMwDQYJKoZIhvcNAQEL\nBQADggEBADKnSV5cIMgBHL4v/coI+f0i7KqgEUwXRduMErQjORaKH5uuLeYy4Tsm\nh5Ftq+HPBg1tXRwLgvBkuPJqLqsIy28wG/IHkvHuE94kZJK+K9tRaSzCKbmoItZA\ntoBb9JEmR6t9ZEEnVD11CWD2NcDvzYvRJFyNYxoFlJ3aOZwk7X/lgeTbPL5NCBW8\nPyyP8Dj7AOGX32Mis7JvJrwjewEwQdgOyPGdOu724uXnQ3HxeAp58k5dIi6LiKyP\nk4ED955Dxh/GlxwlAMOsp/puHIqC3Ywma4iAErwWWsRn2mG43/9tmya7Ig00+m8y\n8BK11YXMwHR1uRigp10sacAa7+9OQj4=\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/\nMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT\nDkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow\nSjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT\nGkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC\nAQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF\nq6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8\nSMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0\nZ8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA\na6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj\n/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T\nAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG\nCCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv\nbTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k\nc3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw\nVAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC\nARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz\nMDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu\nY3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF\nAAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo\nuM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/\nwApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu\nX4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG\nPfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6\nKOqkqm57TH2H3eDJAkSnh6/DNFu0Qg==\n-----END CERTIFICATE-----\n",
                "secret_key": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDW4hcgEHkEbxCs\nuXkmTRYJtROL6BSkuZDthp4OjsRmzJprtyxSE46B2PtBcAbLXGxVP4UwyHG2DQsZ\nmrKvtxIzu5QtMf/qGk7NKKFdekJ6ivtwbYL9ehfF4HJQRB2Pa0txLs6pOjbR8IkU\nI30tFeUB2O3GWXDu9nhK0C0exTDbmxky1/IOiEkiL+1xn19qMgQrn+CU4Glc6yPb\np71Y0qaA1BOZJP6KqVnQwxs8MeD22C5N1RY1sNsN/I0kWgYVgp/N5bQ+jiXHtBRT\ndg085MLsn9D57ICgVBplii4UF14rPNUFBjf7FOWUDFCG+jHEbhV4bfJwtBRZLM4z\nLnKV7Bb3AgMBAAECggEAT/QmCJ84eCbfPHVyl4a9OXVvxXHgJH6LZ2Xcb6w9dcaR\nepzYV93A+52Bt5J4ZLiJ8ppE86bRcJyf0bIW5HyowCj+dGaTQ0bwpTOF/yMbkz8d\nWXLV93yzVcQypJ0DpraUhpOU/7CSb0EhsCWYUOtBn5NYvaHP/IomrieRck6K5Fq9\n0dwAZb1/a4fLurCMJpfaG8D71ObTfVYLCOy9GaUdaPtabrxIyLzCgmT2XBnx6wza\nlbWsWmXkM5Y9SzqKw4lyPJ1YGMgl4cArJY5O2WkFrTc6wRAjBZvjdS7NDiiySXy6\nbSLTLNMI5MnnkH7DfGIxW9lHmfXcPFKNWfdPre9/YQKBgQDt52UIbuaS6H0NOPkf\nex7SV2QLN0dObWHLij2Yx6Qd6UvF2OC4Rxk85tFQW51pp0YYPewTykKquFCG1iLx\nPdqdhfstqUaOR3RU9j5k11kgLa1asHtvWEX7HsXaTDaAuikxm7XdkO9zwrR8gsA8\nd/ngEhvbVAb+1sZ1cb4Mvd5RBwKBgQDnOmwuNh1j3cNjC6P2eeIGIQGqvnAFfG2S\nvbzujK+uuyfPVIFLnig9l+KapclYd4znZDgPh/5dlm5b71VpNKBryashOJvldkvP\no6qcBa09X0m5UK/Fz+n/OXkwUW3cx0RqBNJprsrLjFcUQEtCcDQxY5A8OIica6ms\n6ipTX/u+kQKBgDOQrSB30ThUdg5wo+bD6/lRgdjAgY8pPEI+030TAKqPD6JxkLvA\nhWLi8MmHIgZtgE7u1QWxGGQikSm4rlg1vPXZvYi3IRjjuf5UZU+8MZA89k8q44ZN\nztVQZTgcvs+GCjm7c17z9ELWGALI4Fv68Uk1A561htKjwN5h6fyfBtnvAoGAPtOp\n9zhu7eagozXTfDILztyDBnCuIV94qklxn2OMjK5/l57/bptvlaTCRoDLX4VEPM8H\nSHkMDUPFgqdaDrbk68SlAebOvR9SY/21aqVEOAu/DWI2EEp46wcjvZQyhK2EEkZz\nIZIDuiDMvEzn5gp0tAK4exRlUhMSzE/n5jWLQnECgYEApCrZjPxSyxEX0vsdPUn+\nE3tdfyJ3k9wXaGCQBXEDV9iAkBkC5CTjp741dnX7/7q6D9rK9t+v00hwIieSGH1M\nuwKE41EPrWJbE5uzR7yh6e8NackuOWcH4a30dukZYPwi8Zk70jn3eLDKptEOW38o\n/dxBwg27Lyd4O2dAkTjbhEA=\n-----END PRIVATE KEY-----\n",
                "secret_name": "IngressPipeFromCertbot",
                "secret_sni": "",
                "update_ts": "2019-09-11T16:55:27.33241+00:00"
            }
        ]
    }
}

