ubuntu@ip-172-31-17-135:~/enroute$ curl http://localhost:1323/proxy/dump | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1412  100  1412    0     0   202k      0 --:--:-- --:--:-- --:--:--  229k
{
    "data": {
        "saaras_db_proxy": [
            {
                "create_ts": "2019-09-05T01:46:37.867556+00:00",
                "proxy_id": 1,
                "proxy_name": "test",
                "proxy_services": [
                    {
                        "service": {
                            "create_ts": "2019-09-05T01:57:45.174459+00:00",
                            "fqdn": "testfqdn3.com",
                            "routes": [
                                {
                                    "create_ts": "2019-09-05T02:00:13.425009+00:00",
                                    "route_id": 1,
                                    "route_name": "test",
                                    "route_prefix": "/",
                                    "route_upstreams": [
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": "127.0.0.1",
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": "/",
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 3,
                                                "upstream_ip": "127.0.0.1",
                                                "upstream_name": "test",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        },
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": null,
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": null,
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 5,
                                                "upstream_ip": "localhost",
                                                "upstream_name": "test2",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        }
                                    ],
                                    "update_ts": "2019-09-05T04:11:26.619627+00:00"
                                }
                            ],
                            "service_id": 1,
                            "service_name": "test",
                            "service_secrets": [],
                            "update_ts": "2019-09-05T04:11:26.619627+00:00"
                        }
                    }
                ],
                "update_ts": "2019-09-05T01:57:59.026923+00:00"
            }
        ]
    }
}
ubuntu@ip-172-31-17-135:~/enroute$ curl http://localhost:1323/proxy/dump | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1412  100  1412    0     0   206k      0 --:--:-- --:--:-- --:--:--  229k
{
    "data": {
        "saaras_db_proxy": [
            {
                "create_ts": "2019-09-05T01:46:37.867556+00:00",
                "proxy_id": 1,
                "proxy_name": "test",
                "proxy_services": [
                    {
                        "service": {
                            "create_ts": "2019-09-05T01:57:45.174459+00:00",
                            "fqdn": "testfqdn3.com",
                            "routes": [
                                {
                                    "create_ts": "2019-09-05T02:00:13.425009+00:00",
                                    "route_id": 1,
                                    "route_name": "test",
                                    "route_prefix": "/",
                                    "route_upstreams": [
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": "127.0.0.1",
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": "/",
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 3,
                                                "upstream_ip": "127.0.0.1",
                                                "upstream_name": "test",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        },
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": null,
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": null,
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 5,
                                                "upstream_ip": "localhost",
                                                "upstream_name": "test2",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        }
                                    ],
                                    "update_ts": "2019-09-05T04:11:26.619627+00:00"
                                }
                            ],
                            "service_id": 1,
                            "service_name": "test",
                            "service_secrets": [],
                            "update_ts": "2019-09-05T04:11:26.619627+00:00"
                        }
                    }
                ],
                "update_ts": "2019-09-05T01:57:59.026923+00:00"
            }
        ]
    }
}
ubuntu@ip-172-31-17-135:~/enroute$ curl http://localhost:1323/proxy/dump/test | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1412  100  1412    0     0   131k      0 --:--:-- --:--:-- --:--:--  137k
{
    "data": {
        "saaras_db_proxy": [
            {
                "create_ts": "2019-09-05T01:46:37.867556+00:00",
                "proxy_id": 1,
                "proxy_name": "test",
                "proxy_services": [
                    {
                        "service": {
                            "create_ts": "2019-09-05T01:57:45.174459+00:00",
                            "fqdn": "testfqdn3.com",
                            "routes": [
                                {
                                    "create_ts": "2019-09-05T02:00:13.425009+00:00",
                                    "route_id": 1,
                                    "route_name": "test",
                                    "route_prefix": "/",
                                    "route_upstreams": [
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": "127.0.0.1",
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": "/",
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 3,
                                                "upstream_ip": "127.0.0.1",
                                                "upstream_name": "test",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        },
                                        {
                                            "upstream": {
                                                "upstream_hc_healthythresholdcount": null,
                                                "upstream_hc_host": null,
                                                "upstream_hc_intervalseconds": null,
                                                "upstream_hc_path": null,
                                                "upstream_hc_timeoutseconds": null,
                                                "upstream_hc_unhealthythresholdcount": null,
                                                "upstream_id": 5,
                                                "upstream_ip": "localhost",
                                                "upstream_name": "test2",
                                                "upstream_port": 9001,
                                                "upstream_strategy": null,
                                                "upstream_validation_cacertificate": null,
                                                "upstream_validation_subjectname": null,
                                                "upstream_weight": 100
                                            }
                                        }
                                    ],
                                    "update_ts": "2019-09-05T04:11:26.619627+00:00"
                                }
                            ],
                            "service_id": 1,
                            "service_name": "test",
                            "service_secrets": [],
                            "update_ts": "2019-09-05T04:11:26.619627+00:00"
                        }
                    }
                ],
                "update_ts": "2019-09-05T01:57:59.026923+00:00"
            }
        ]
    }
}
ubuntu@ip-172-31-17-135:~/enroute$ curl http://localhost:1323/proxy/dump/test2 | python -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    31  100    31    0     0   3652      0 --:--:-- --:--:-- --:--:--  3875
{
    "data": {
        "saaras_db_proxy": []
    }
}

